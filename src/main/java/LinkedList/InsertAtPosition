package LinkedList;


class Node {
    int data;
    Node next;

    Node(int data) {
        this.data = data;
        this.next = null;

    }


}

class LinkedList {
    Node head;

    public void insertAtPosition(int data, int position) {
        Node newNode = new Node(data);

        if (position == 1) {
            newNode.next = head;
            head = newNode;
            return;
        }

        Node prev = head;
        // Traverse to node **before** insertion position
        for (int i = 1; i < position - 1; i++) {  // i=1 because prev is already head
            if (prev == null) {
                System.out.println("Position out of bounds");
                return;
            }
            prev = prev.next;
        }

        // Insert the new node
        newNode.next = prev.next; // newNode points to node currently at the position
        prev.next = newNode;      // previous node points to newNode
    }

    public void printList() {
        Node current = head;
        while (current != null) {
            System.out.print(current.data + " -> ");
            current = current.next;
        }
        System.out.println("null");
    }
}

// **Public class must match file name**
public class InsertAtPosition {
    public static void main(String[] args) {
        Linkedlist list = new Linkedlist();

        // Inserting nodes
        list.insertAtPosition(10, 1); // 10
        list.insertAtPosition(20, 2); // 10 -> 20
        list.insertAtPosition(30, 3); // 10 -> 20 -> 30
        list.insertAtPosition(15, 2); // Insert 15 at position 2

        list.printList(); // Output: 10 -> 15 -> 20 -> 30 -> null

        // Insert at head
        list.insertAtPosition(5, 1);
        list.printList(); // Output: 5 -> 10 -> 15 -> 20 -> 30 -> null

        // Insert at end (position beyond current size)
        list.insertAtPosition(40, 10); // prints "Position out of bounds"
    }
}